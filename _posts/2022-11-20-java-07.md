---
layout: post
categories: Java
title: "[JAVA] Generic"
date: 2022-11-20
permalink: /java/generic
tags:
  - java
---
* content
{: toc}





# μ λ„¤λ¦­μ΄λ€?

ν΄λμ¤ λ‚΄λ¶€μ—μ„ μ§€μ •ν•λ” κ²ƒμ΄ μ•„λ‹ μ™Έλ¶€μ—μ„ μ‚¬μ©μμ— μν•΄ μ§€μ •λλ” κ²ƒμ„ μλ―Έν•¨.

<aside> π’΅ νΉμ •(Specific) νƒ€μ…μ„ λ―Έλ¦¬ μ§€μ •ν•΄μ£Όλ” κ²ƒμ΄ μ•„λ‹ ν•„μ”μ— μν•΄ μ§€μ •ν•  μ μλ„λ΅ ν•λ” μΌλ°(Generic) νƒ€μ…μ΄λΌλ” κ²ƒ.

</aside>

# μ λ„¤λ¦­ μ‚¬μ©μ μ¥μ 

1. νƒ€μ… μ•μ •μ„± λ³΄μ¥
    - μ»΄νμΌ μ‹μ μ—μ„ νƒ€μ… μ—λ¬λ¥Ό μ΅μ•„λ‚΄ λ°νƒ€μ„ μ‹μ— λ°μƒν•  μ μλ” μ—λ¬λ¥Ό λ°©μ§€
2. μ½”λ“ μ¬μ‚¬μ©μ„± μ¦κ°€
    - μ½”λ“ μ‘μ„±ν•  λ• νƒ€μ…μ„ μ§€μ •ν•  ν•„μ”κ°€ μ—†μΌλ―€λ΅ λ‹¤μ–‘ν• νƒ€μ…μ— λ€ν•΄ μ¬μ‚¬μ©μ„±μ΄ λ†’μ•„μ§.
3. μ½”λ“ κ°€λ…μ„± ν–¥μƒ
    - μ½”λ“λ¥Ό λ” μ§κ΄€μ μΌλ΅ μ‘μ„±ν•  μ μμ.
4. ν• λ³€ν™ μ κ±°
    - ν•λ³€ν™μ„ μ κ±°ν•  μ μμ–΄μ„ μ½”λ“κ°€ λ” κΉ”λ”ν•΄μ§€κ³  κ°„κ²°ν•΄μ§.
5. μ»¬λ ‰μ…μ—μ„ μ μ©ν•¨
    - μ»¬λ ‰μ…μ€ λ‹¤μ–‘ν• νƒ€μ…μ„ λ‹΄μ„ μ μμ–΄μ•Όν•λ―€λ΅ μ λ„¤λ¦­μ νƒ€μ…μ•μ •μ„±κ³Ό ν•λ³€ν™ μ κ±°λ΅ μ½”λ“κ°€ λ” κΉ”λ”ν•΄μ§
6. μλ£κµ¬μ΅°μ—μ„μ ν™μ©
    - μλ£κµ¬μ΅°μ—μ„λ„ λ‹¤μ–‘ν• νƒ€μ…μ— λ€ν•΄ μ μ—°ν•κ² λ€μ²κ°€λ¥. Stackν΄λμ¤λ¥Ό κµ¬ν„ν•  λ• μ‚¬μ©ν•λ©΄ λ‹¤μ–‘ν• νƒ€μ…μ μ”μ†λ¥Ό λ‹΄μ„ μ μλ” μ¤νƒμ„ κµ¬ν„ν•  μ μμ.

# μ λ„¤λ¦­ μ‚¬μ© λ°©λ²•

## μ λ„¤λ¦­ νƒ€μ…

| νƒ€μ…   | μ„¤λ…      |
| ---- | ------- |
| <\T> | Type    |
| <\E> | Element |
| <\K> | Key     |
| <\V> | Value   |
| <\N> | Number  |

## ν΄λμ¤ λ° μΈν„°νμ΄μ¤ μ„ μ–Έ

### κΈ°λ³Έμ μΈ μ λ„¤λ¦­ νƒ€μ…μ ν΄λμ¤ , μΈν„°νμ΄μ¤ μ„ μ–Έ

```java
public class ClassName <T> {...}
public Interface InterfaceName <T> {...}
```

Tνƒ€μ…μ€ ν•΄λ‹Ή λΈ”λ­ {β€¦}μ•μ—μ„ μ ν¨ν•¨.

### μ λ„¤λ¦­ νƒ€μ…μΈμ λ‘ κ° μ„ μ–Έ

```java
public class ClassName <T,K> {...}
public Interface InterfaceName <T,K> {...}

//λ€ν‘μ μΌλ΅ νƒ€μ…μΈμ λ‘ κ° λ°›λ” μ»¬λ ‰μ… : HashMap
public class HashMap<K,V> {...}
```

 λ°μ΄ν„° νƒ€μ…μ„ μ™Έλ¶€λ΅λ¶€ν„° μ§€μ •ν•  μ μμ.

μ„μ²λΌ μƒμ„±λ μ λ„¤λ¦­ ν΄λμ¤λ¥Ό μ‚¬μ©ν•κ³  μ‹¶λ‹¤?
β†’ κ°μ²΄ μƒμ„±μ„ ν•  λ• κµ¬μ²΄μ μΈ νƒ€μ…μ„ λ…μ‹ν•΄μ£Όμ–΄μ•Ό ν•¨.

```java
public class ClassName <T,K> {...}

public class Main {
	public static void main(String[] args){
		ClassName<String, Integer> a = new ClassName<String, Integer>();
	}
}
```

> μ£Όμ! νƒ€μ… νλΌλ―Έν„°λ΅ λ…μ‹ν•  μ μλ” κ²ƒμ€ μ°Έμ΅° νƒ€μ…(Reference Type)λ°–μ— μ¬ μ μ—†μ
> 
> μ¦‰, int, double, char κ°™μ€ primitive typeμ€ λ¶κ°€. κ·Έλμ„ intν• doubleν• λ“± primitive Typeμ κ²½μ° Integer, Double κ°™μ€ Wrapper TypeμΌλ΅ μ“°λ” μ΄μ κ°€ λ°”λ΅ μ„μ™€κ°™μ€ μ΄μ λ‹¤.
> 
> λν• λ°”κΏ” λ§ν•λ©΄ μ°Έμ΅° νƒ€μ…μ΄ μ¬ μ μλ‹¤λ” κ²ƒμ€ μ‚¬μ©μκ°€ μ •μν• ν΄λμ¤λ„ νƒ€μ…μΌλ΅ μ¬ μ μλ‹¤λ” κ²ƒμ΄λ‹¤.

```java
public class ClassName <T> {...}

public class Student {...}

public class Main {
	public static void main(String[] args){
		ClassName<Student> a = new ClassName<Student>();
	}
}
```

# μ λ„¤λ¦­ λ©”μ†λ“

λ©”μ†λ“μ μ„ μ–Έλ¶€μ— νƒ€μ… λ³€μλ¥Ό μ‚¬μ©ν• λ©”μ†λ“
μ΄λ• νƒ€μ… λ³€μμ μ„ μ–Έμ€ λ©”μ†λ“ μ„ μ–Έλ¶€μ—μ„ λ°ν™ νƒ€μ… λ°”λ΅ μ•μ— μ„μΉ

```java
public static <T> void sort( ... ) { ... }
```


```java
public <T> T genericMethod(T o){
	...
}
[μ ‘κ·Ό μ μ–΄μ] <μ λ„¤λ¦­νƒ€μ…> [λ¦¬ν„΄νƒ€μ…] [λ©”μ†λ“λ…]([νλΌλ―Έν„°νƒ€μ…] [νλΌλ―Έν„°]){
		//ν…μ¤νΈ
}
```

![](https://i.imgur.com/H86Reii.png)



# <?> : μ™€μΌλ“ μΉ΄λ“(Wild card)
νƒ€μ… νλΌλ―Έν„°λ¥Ό κµ¬μ²΄μ μΌλ΅ μ ν•

```java
public static <T extends Number> int compare(T t1, T t2) {
			// extendsλ¥Ό μ΄μ©ν•΄ νƒ€μ… μ ν•
	double v1 = t1.doubleValue(); 
	double v2 = t2.doubleValue();
	return Double.compare(v1, v2);
}
```

μ™€μΌλ“μΉ΄λ“(wild card)λ€ μ΄λ¦„μ— μ ν•μ„ λ‘μ§€ μ•μμ„ ν‘ν„ν•λ” λ° μ‚¬μ©λλ” κΈ°νΈλ¥Ό μλ―Έν•¨.

# extends μ™€ super

> **?** **extends T : μƒν• κ²½κ³„**
> **? super T : ν•ν• κ²½κ³„**
> λ‹¨, κ²½κ³„λ¥Ό μ§€μ •ν•κ³  Kλ” νΉμ • νƒ€μ…μΌλ΅ μ§€μ •μ΄ λμ§€λ§, ?λ” νƒ€μ…μ΄ μ§€μ •λμ§€ μ•λ”λ‹¤.

## \<?>Β 
νƒ€μ… λ³€μμ— λ¨λ“  νƒ€μ…μ„ μ‚¬μ©ν•  μ μμ. (<? extends Object>μ™€ κ°™μ€ μλ―Έ )
## \<?Β extendsΒ T>Β 
T νƒ€μ…κ³Ό T νƒ€μ…μ„Β μƒμ†λ°›λ”Β μμ† ν΄λμ¤ νƒ€μ…λ§μ„ μ‚¬μ©ν•  μ μμ.
## \<?Β superΒ T>Β 
 T νƒ€μ…κ³Ό T νƒ€μ…μ΄Β μƒμ†λ°›μ€ μ΅°μƒΒ ν΄λμ¤ νƒ€μ…λ§μ„ μ‚¬μ©ν•  μ μμ.
## \<K extends T> 
Tμ™€ Tμ μμ† νƒ€μ…λ§ κ°€λ¥ (Kλ” λ“¤μ–΄μ¤λ” νƒ€μ…μΌλ΅ μ§€μ •λ¨.)
## \<K super T> 
Tμ™€ Tμ λ¶€λ¨(μ΅°μƒ) νƒ€μ…λ§ κ°€λ¥ (Kλ” λ“¤μ–΄μ¤λ” νƒ€μ…μΌλ΅ μ§€μ •λ¨.)



```java
/*
 * Numberμ™€ μ΄λ¥Ό μƒμ†ν•λ” Integer, Short, Double, Long λ“±μ
 * νƒ€μ…μ΄ μ§€μ •λ  μ μμΌλ©°, κ°μ²΄ νΉμ€ λ©”μ†λ“λ¥Ό νΈμ¶ ν•  κ²½μ° Kλ”
 * μ§€μ •λ νƒ€μ…μΌλ΅ λ³€ν™μ΄ λλ‹¤.
 */
<K extends Number>
 
 
/*
 * Numberμ™€ μ΄λ¥Ό μƒμ†ν•λ” Integer, Short, Double, Long λ“±μ
 * νƒ€μ…μ΄ μ§€μ •λ  μ μμΌλ©°, κ°μ²΄ νΉμ€ λ©”μ†λ“λ¥Ό νΈμ¶ ν•  κ²½μ° μ§€μ • λλ” νƒ€μ…μ΄ μ—†μ–΄
 * νƒ€μ… μ°Έμ΅°λ¥Ό ν•  μλ” μ—†λ‹¤.
 */
<? extends T>	// Tμ™€ Tμ μμ† νƒ€μ…λ§ κ°€λ¥
```

### ?(λ¬Όμν‘)

μ™€μΌλ“ μΉ΄λ“ <?> μ€ <? extends Object> μ™€ κ°™λ‹¤.

[Objectλ” μλ°”μ—μ„μ λ¨λ“  API λ° μ‚¬μ©μ ν΄λμ¤μ μµμƒμ„ νƒ€μ…μ΄λ‹¤. ]

```java
public class ClassName { ... }public class ClassName extends Object { ... }
```

<span style='color:var(--mk-color-red)'>κΈ°λ³Έμ μΌλ΅ `public class ClassName extends Object {}` λ¥Ό λ¬µμ‹μ μΌλ΅ μƒμ†λ°›λ” κ²ƒμ΄λ‚ λ‹¤λ¦„μ΄ μ—†μ!</span>

ν•λ§λ””λ΅ <?>μ€ μ–΄λ–¤ νƒ€μ…μ΄λ“  μƒκ΄€ μ—†λ‹¤λ” μλ―Έ.

=><mark style="background: #BBFABBA6;"> λ°μ΄ν„°κ°€ μ•„λ‹ 'κΈ°λ¥'μ μ‚¬μ©μ—λ§ κ΄€μ‹¬μ΄ μλ” κ²½μ°μ— <?>λ΅ μ‚¬μ©ν•  μ μμ</mark>

# μ λ„¤λ¦­ μ‚¬μ© μμ‹

### μ λ„¤λ¦­ ν΄λμ¤ μμ‹

1. νƒ€μ…μΈμ 1κ°

```java
class ClassName<E>{
	private E element;  //μ λ„¤λ¦­ νƒ€μ… λ³€μ μ„ μ–Έ

	void set(E element) {   // μ λ„¤λ¦­ λ§¤κ°λ³€μ λ©”μ†λ“
		this.element = element;
	}

	E get(){  // μ λ„¤λ¦­ νƒ€μ… λ°ν™ λ©”μ†λ“
	return element;
	}

}
public class Main {
	public static void main(String[] args){
		ClassName<String> a = new ClassName<String>();
		ClassName<String> b = new ClassName<String>();

		a.set("10");
		b.set(10);

		System.out.println("a data : " + a.get());
		//λ°ν™λ λ³€μμ νƒ€μ… μ¶λ ¥
		System.out.println("a E Type : " + a.get().getClass().getName());

		System.out.println("b data : " + b.get());
		//λ°ν™λ λ³€μμ νƒ€μ… μ¶λ ¥
		System.out.println("b E Type : " + b.get().getClass().getName());

		}
	}
```

ClassNameμ΄λ€ κ°μ²΄λ¥Ό μƒμ„±ν•  λ• <> μ•μ— νƒ€μ… νλΌλ―Έν„°(Type parameter) E λ¥Ό μ§€μ •.

aκ°μ²΄μ ClassNameμ E μ λ„¤λ¦­ νƒ€μ…μ€ StringμΌλ΅ λ¨λ‘ λ³€ν™λλ‹¤.

bκ°μ²΄μ ClassNameμ E μ λ„¤λ¦­ νƒ€μ…μ€ IntegerμΌλ΅ λ¨λ‘ λ³€ν™λλ‹¤.

μ‹¤μ λ΅ μ„ μ½”λ“λ¥Ό μ‹¤ν–‰μ‹ν‚¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ¶λ ¥λλ‹¤.

![https://blog.kakaocdn.net/dn/bwZf3n/btqLeqtwL2Z/juSEIt48ifvKRIPZ6PALL1/img.png](https://blog.kakaocdn.net/dn/bwZf3n/btqLeqtwL2Z/juSEIt48ifvKRIPZ6PALL1/img.png)

1. νƒ€μ…μΈμ 2κ°

```java
class ClassName<K,V>{
	private K first;  //K μ λ„¤λ¦­ νƒ€μ…
	private V second; //V μ λ„¤λ¦­ νƒ€μ…

	void set(K first,V second) {   // μ λ„¤λ¦­ λ§¤κ°λ³€μ λ©”μ†λ“
		this.first = first;
		this.second = second;
	}

	K getfirst(){  // μ λ„¤λ¦­ νƒ€μ… λ°ν™ λ©”μ†λ“
	return first;
	}

	V getsecond(){
	return second;
	}
}

public class Main {
	public static void main(String[] args){
		ClassName<String,Integer> a = new ClassName<String,Integer>();

		a.set("10",10);

		System.out.println("first data : " + a.getfirst());
		//λ°ν™λ λ³€μμ νƒ€μ… μ¶λ ¥
		System.out.println("K Type : " + a.getfirst().getClass().getName());

		System.out.println("second data : " + second.getsecond());
		//λ°ν™λ λ³€μμ νƒ€μ… μ¶λ ¥
		System.out.println("V Type : " + b.getseconde().getClass().getName());

		}
	}
```

κ²°κ³Ό

![](https://i.imgur.com/Fl50RX3.png)


---

### μ λ„¤λ¦­ λ©”μ†λ“ μμ‹

λ©”μ†λ“ ν•μ • μ λ„¤λ¦­ μ‚¬μ©ν•λ” λ°©λ²•

```java
// λ§¤κ° λ³€μ νƒ€μ…: T
// λ¦¬ν„΄ νƒ€μ…: Box<T>
public <T> Box<T> boxing(T t) {
    Box<T> box = new Box<T>();
    box.set(t);
    return box;
}
//νΈ
public class BoxingMethodExample {
	public static void main(String[] args) {
		Box<Integer> box1 = <Integer>boxing(100);
		int intValue = box1.get();
		
		Box<String> box2 = boxing("ν™κΈΈλ™");
		String strValue = box2.get();
	}
}
```

---